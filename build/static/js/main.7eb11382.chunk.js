(this["webpackJsonpbloglist-frontend"]=this["webpackJsonpbloglist-frontend"]||[]).push([[0],{142:function(e,t,n){},144:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),c=n(14),i=n.n(c),o=n(13),s=n(23),u=n(16),l=n(21),j=n(7),d=n.n(j),b=n(12),p=n(22),f=n(26),m=n.n(f),h="/api/users",O={createUser:function(){var e=Object(b.a)(d.a.mark((function e(t){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.a.post(h,t);case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),getAll:function(){var e=Object(b.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.a.get(h);case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),findUserId:function(){var e=Object(b.a)(d.a.mark((function e(t){var n,r,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.a.get(h);case 2:return n=e.sent,r=n.data.find((function(e){return e.username===t.username})),a=Object(p.a)(Object(p.a)({},t),{},{id:r.id}),e.abrupt("return",a);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},x=function(e){return function(){var t=Object(b.a)(d.a.mark((function t(n){var r;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,O.findUserId(e);case 2:r=t.sent,n({type:"SET",data:r});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},g=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET":var n=t.data;return n;case"CLEARUSER":return null;default:return e}},v=n(82),y=["id","user"],w=["id","user"],k="/api/blogs",C=null,N=function(){var e=Object(b.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.a.get(k);case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),I=function(){var e=Object(b.a)(d.a.mark((function e(t){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.a.get("".concat(k,"/").concat(t));case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),T={getAll:N,create:function(){var e=Object(b.a)(d.a.mark((function e(t){var n,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={headers:{Authorization:C}},e.next=3,m.a.post(k,t,n);case 3:return r=e.sent,e.abrupt("return",r.data);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),setToken:function(e){C="bearer ".concat(e)},deleteBlog:function(){var e=Object(b.a)(d.a.mark((function e(t){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={headers:{Authorization:C}},e.next=3,m.a.delete("".concat(k,"/").concat(t),n);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),likeBlog:function(){var e=Object(b.a)(d.a.mark((function e(t){var n,r,a,c,i;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.id,r={username:t.user.username,name:t.user.name,_id:t.user.id},t.id,t.user,a=Object(v.a)(t,y),c=Object(p.a)(Object(p.a)({},a),{},{_id:t.id,user:r,likes:t.likes+=1}),e.next=6,m.a.put("".concat(k,"/").concat(n),c);case 6:return i=e.sent,e.abrupt("return",i.data);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),getById:I,addComment:function(){var e=Object(b.a)(d.a.mark((function e(t,n){var r,a,c,i,o;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.id,a={username:t.user.username,name:t.user.name,_id:t.user.id},t.id,t.user,c=Object(v.a)(t,w),i=Object(p.a)(Object(p.a)({},c),{},{_id:t.id,user:a,comments:t.comments.concat(n)}),e.next=6,m.a.put("".concat(k,"/").concat(r),i);case 6:return o=e.sent,e.abrupt("return",o.data);case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},S=n(184),E=n(187),D=n(188),L=n(215),A=n(189),B=n(190),F=n(50),R=n(148),U=n(222),M=n(99),z=n(193),W=n(194),J=n(196),P=n(186),Y=n(216),_=n(79),K=n.n(_),G=n(195),H=n(2),V=Object(S.a)((function(e){return{root:{flexGrow:1,backgroundColor:e.palette.background.paper},button:{"&:hover":{backgroundColor:"transparent"}},green:{color:e.palette.getContrastText(K.a[500]),backgroundColor:K.a[500]}}})),q=function(){var e=V(),t=Object(r.useState)("1"),n=Object(s.a)(t,2),a=n[0],c=n[1],i=Object(r.useState)(null),j=Object(s.a)(i,2),p=j[0],f=j[1],m=Boolean(p),h=Object(o.c)((function(e){return e.user})),O=Object(u.f)(),g=Object(o.b)();Object(r.useEffect)((function(){var e=window.localStorage.getItem("loggedBlogappUser");if(e){var t=JSON.parse(e);g(x(t)),T.setToken(t.token)}}),[g]);var v=function(){f(null)};return Object(H.jsx)("div",{className:e.root,children:Object(H.jsx)(P.a,{value:"/"===a&&"/users"===a&&a,children:Object(H.jsx)(E.a,{position:"static",children:Object(H.jsxs)(D.a,{children:[Object(H.jsx)(L.a,{display:"flex",flexGrow:1,children:Object(H.jsxs)(Y.a,{onChange:function(e,t){c(t),O.push(t)},"aria-label":"site nav menu",children:[Object(H.jsx)(A.a,{label:"Blogs",value:"/"}),Object(H.jsx)(A.a,{label:"User List",value:"/users"})]})}),h?Object(H.jsx)(B.a,{size:"large",className:e.button,disableElevation:!0,variant:"contained",color:"primary",component:l.b,to:"/user/".concat(h.id),children:Object(H.jsx)(F.a,{variant:"button",children:h.username})}):null,Object(H.jsx)(R.a,{"aria-label":"user menu","aria-controls":"menu-appbar","aria-haspopup":"true",onClick:function(e){f(e.currentTarget)},children:h?Object(H.jsx)(U.a,{className:e.green,children:h.username[0]}):Object(H.jsx)(U.a,{})}),Object(H.jsx)(M.a,{id:"menu-appbar",anchorOrigin:{vertical:"top",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},open:m,keepMounted:!0,onClose:v,getContentAnchorEl:null,children:h?Object(H.jsxs)("div",{children:[Object(H.jsxs)(z.a,{component:l.b,to:"/user/".concat(h.id),onClick:v,children:[Object(H.jsx)(W.a,{children:Object(H.jsx)(G.a,{})}),Object(H.jsx)(J.a,{primary:h.name})]}),Object(H.jsx)(z.a,{onClick:function(){window.localStorage.removeItem("loggedBlogappUser"),g(function(){var e=Object(b.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t({type:"CLEARUSER"}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),f(null)},children:"Logout"})]}):Object(H.jsx)(z.a,{component:l.b,to:"/login",onClick:v,children:"log in"})})]})})})})},Q=function(){return function(){var e=Object(b.a)(d.a.mark((function e(t){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T.getAll();case 2:n=e.sent,t({type:"INIT",data:n});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},X=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CREATE":return console.log("CREATE"),e.concat(t.data);case"INIT":return console.log("INIT"),t.data;case"LIKE":return console.log("LIKE"),e.map((function(e){return e}));case"ADDCOMMENT":return console.log("ADD"),e.map((function(e){return e}));default:return e}},Z=function(){return function(){var e=Object(b.a)(d.a.mark((function e(t){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.getAll();case 2:n=e.sent,t({type:"INITUSERS",data:n});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},$=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"INITUSERS":return t.data;default:return e}},ee=0,te=function(e,t){var n=e.type,r=e.message;return function(){var e=Object(b.a)(d.a.mark((function e(a){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:clearTimeout(ee),ee=setTimeout((function(){a({type:"CLEAR"})}),t),a({type:"NOTIFY",data:{message:r,type:n,autoCloseDuration:t}});case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},ne=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"NOTIFY":return console.log("NOTIFY"),t.data;case"CLEAR":return console.log("CLEAR"),{};default:return e}},re=n(219),ae=n(197),ce=n(198),ie=n(214),oe=n(94),se=n.n(oe),ue=Object(S.a)((function(e){return{root:{width:"80vw"},heading:{fontSize:e.typography.pxToRem(15),fontWeight:e.typography.fontWeightRegular},input:{width:"3rem"},form:{display:"flex",width:"100%",flexDirection:"column",alignContent:"center",alignSelf:"center",margin:"0 auto","& .MuiTextField-root":{margin:e.spacing(1),width:"100%"}},textInput:{width:"inherit"}}})),le=function(){var e=Object(r.useState)({title:"",url:"",author:""}),t=Object(s.a)(e,2),n=t[0],a=t[1],c=Object(r.useRef)(),i=Object(o.b)(),u=Object(o.c)((function(e){return e.user})),l=ue(),j=function(){var e=Object(b.a)(d.a.mark((function e(t){var r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),c.current.reset(),e.next=4,T.create(n);case 4:r=e.sent,a({}),i(te({type:"success",message:"".concat(r.title," by ").concat(r.author," added! ")},5e3)),i(Q());case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return null!==u?Object(H.jsxs)(re.a,{className:l.root,children:[Object(H.jsx)(ae.a,{expandIcon:Object(H.jsx)(se.a,{}),"aria-controls":"create-new-blog-content",id:"create-new-blog-header",children:Object(H.jsx)(F.a,{className:l.heading,children:"Add New Blog"})}),Object(H.jsx)(ce.a,{children:Object(H.jsxs)("form",{className:l.form,onSubmit:j,ref:c,children:[Object(H.jsx)(ie.a,{className:l.textInput,id:"title",autoFocus:!0,variant:"outlined",type:"text",name:"title",label:"title",multiline:!0,onChange:function(e){return a(Object(p.a)(Object(p.a)({},n),{},{title:e.target.value}))}}),Object(H.jsx)(ie.a,{id:"author",variant:"outlined",type:"text",name:"author",label:"author",multiline:!0,onChange:function(e){return a(Object(p.a)(Object(p.a)({},n),{},{author:e.target.value}))}}),Object(H.jsx)(ie.a,{id:"url",variant:"outlined",type:"text",name:"url",label:"url",multiline:!0,fullWidth:!0,onChange:function(e){return a(Object(p.a)(Object(p.a)({},n),{},{url:e.target.value}))}}),Object(H.jsx)(B.a,{className:l.input,variant:"outlined",id:"submit-button",type:"submit",children:"add"})]})})]}):null},je=n(192),de=n(149),be=Object(S.a)((function(e){return{root:{width:"80vw",backgroundColor:e.palette.background.paper,marginTop:"2rem"},link:{paddingTop:"0.5rem",paddingBottom:"0.5rem",color:e.palette.text.primary,"&:visited":{color:e.palette.text.primary}},customListItem:{border:"1px solid black","&:hover":{backgroundColor:e.palette.grey[300]}}}})),pe=function(){var e=be(),t=Object(o.c)((function(e){return e.blogs})),n=Object(o.b)();return Object(r.useEffect)((function(){n(Q())}),[]),Object(H.jsxs)(L.a,{display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column",children:[Object(H.jsx)(je.a,{className:e.root,children:t.map((function(t){return Object(H.jsx)(H.Fragment,{children:Object(H.jsxs)(de.a,{className:e.customListItem,component:l.b,to:"/blogs/".concat(t.id),children:[Object(H.jsxs)(J.a,{className:e.link,primary:t.title,children:[" ",t.title," by ",t.author," "]}),t.likes," ",1!==t.likes?"Likes":"Like"]},t.id+Math.random())})}))}),Object(H.jsx)(le,{})]})},fe=n(95),me=n.n(fe),he=Object(S.a)((function(){return{boxItem:{marginTop:"1rem",marginLeft:"1rem"}}})),Oe=function(){var e=he(),t=Object(u.f)();return Object(H.jsx)(L.a,{children:Object(H.jsx)(B.a,{className:e.boxItem,startIcon:Object(H.jsx)(me.a,{}),variant:"contained",color:"primary",size:"medium",onClick:function(){t.goBack()},children:"go back"})})},xe=Object(S.a)((function(e){return{root:{width:"80vw",backgroundColor:e.palette.background.paper,marginTop:"2rem"},link:{paddingTop:"0.5rem",paddingBottom:"0.5rem",color:e.palette.text.primary,"&:visited":{color:e.palette.text.primary}},customListItem:{border:"1px solid black","&:hover":{backgroundColor:e.palette.grey[300]}},userNameTitle:{marginTop:"2rem"}}})),ge=function(e){var t=e.users,n=xe(),r=Object(u.g)().id,a=t.find((function(e){return e.id===r}));return a?Object(H.jsxs)(L.a,{children:[Object(H.jsx)(Oe,{}),Object(H.jsxs)(L.a,{display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column",children:[Object(H.jsx)(F.a,{variant:"h4",component:"h1",className:n.userNameTitle,children:a.username}),a.blogs.length>0?Object(H.jsx)(je.a,{className:n.root,children:a.blogs.map((function(e){return Object(H.jsx)(H.Fragment,{children:Object(H.jsxs)(de.a,{className:n.customListItem,component:l.b,to:"/blogs/".concat(e.id),children:[Object(H.jsxs)(J.a,{className:n.link,primary:e.title,children:[" ",e.title," by ",e.author," "]}),e.likes," ",1!==e.likes?"Likes":"Like"]},e.id+Math.random())})}))}):Object(H.jsx)(F.a,{variant:"h5",component:"h2",children:"No Posts Yet..."})]})]}):Object(H.jsx)(F.a,{variant:"h2",children:"user not found..."})},ve=n(199),ye=n(146),we=n(200),ke=n(201),Ce=n(202),Ne=n(203),Ie=n(204),Te=n(205),Se=Object(S.a)((function(){return{root:{marginTop:"2rem"}}})),Ee=function(){var e=Se(),t=Object(o.c)((function(e){return e.users})),n=Object(o.b)();return Object(r.useEffect)((function(){n(Z())}),[n]),Object(H.jsx)(D.a,{className:e.root,children:Object(H.jsx)(ve.a,{component:ye.a,children:Object(H.jsxs)(we.a,{"aria-label":"users table",children:[Object(H.jsx)(ke.a,{children:Object(H.jsxs)(Ce.a,{children:[Object(H.jsx)(Ne.a,{align:"center",children:"User"}),Object(H.jsx)(Ne.a,{align:"center",children:"Blogs Created"})]})}),Object(H.jsx)(Ie.a,{children:t.map((function(e){return Object(H.jsxs)(Ce.a,{children:[Object(H.jsxs)(Ne.a,{align:"center",children:[" ",Object(H.jsx)(Te.a,{to:"/user/".concat(e.id),component:l.b,children:e.name})]}),Object(H.jsx)(Ne.a,{align:"center",children:e.blogs.length})]},e.id)}))})]})})})},De=Object(S.a)((function(e){return{input:{margin:e.spacing(1),height:"2rem"}}})),Le=function(e){var t=e.blog,n=De(),a=Object(r.useState)(""),c=Object(s.a)(a,2),i=c[0],u=c[1],l=Object(o.b)();Object(r.useEffect)((function(){console.log(i)}),[i]);return Object(H.jsx)(L.a,{display:"flex",flexDirection:"row",alignContent:"center",height:"1.5rem",children:Object(H.jsxs)("form",{noValidate:!0,autoComplete:"off",onSubmit:function(e){e.preventDefault(),i&&i.length>0?(l(function(e,t){return function(){var n=Object(b.a)(d.a.mark((function n(r){var a;return d.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,T.addComment(e,t);case 2:a=n.sent,r({type:"ADDCOMMENT",data:a.id});case 4:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}(t,i)),l(te({type:"success",message:"successfully added '".concat(i,"'")},5e3)),l(Q()),u("")):l(te({type:"error",message:"invalid comment"},5e3))},children:[Object(H.jsx)(ie.a,{id:"commentField",variant:"outlined",type:"text",name:"title",label:"Add Comment",value:i,onChange:function(e){return u(e.target.value)},InputProps:{className:n.input}}),Object(H.jsx)(B.a,{className:n.input,variant:"contained",id:"submit-button",type:"submit",children:"add"})]})})},Ae=n(28),Be=n(206),Fe=n(220),Re=n(207),Ue=n(208),Me=n(209),ze=n(210),We=n(211),Je=n(96),Pe=n.n(Je),Ye=Object(S.a)((function(e){return{root:{width:"100%",backgroundColor:e.palette.background.paper,maxHeight:500,overflow:"auto",marginTop:"1rem"},userLink:{"&:hover":{textDecoration:"none"}},customListItem:{"&:hover":{backgroundColor:e.palette.grey[300]}},likes:{fontSize:"1.1rem"}}})),_e=function(e){var t=e.blogs,n=e.user,a=Object(u.g)().id,c=t.find((function(e){return e.id===a})),i=Object(o.b)(),j=Object(u.f)(),p=Ye(),f=Object(Ae.a)(),m=Object(r.useState)(!1),h=Object(s.a)(m,2),O=h[0],x=h[1],g=Object(Be.a)(f.breakpoints.down("sm")),v=function(){x(!1)},y=function(e){i(function(e){return function(){var t=Object(b.a)(d.a.mark((function t(n){var r;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,T.likeBlog(e);case 2:r=t.sent,n({type:"LIKE",data:r.id});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(e))},w=function(){var e=Object(b.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T.deleteBlog(t.id);case 2:i(Q()),j.push("/"),x(!1);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return c?Object(H.jsxs)(L.a,{children:["   ",Object(H.jsx)(Oe,{}),Object(H.jsx)(L.a,{width:"100vw",alignItems:"center",justifyContent:"center",display:"flex",flexDirection:"column",mt:"1rem",children:Object(H.jsxs)(L.a,{display:"flex",justifyContent:"center",flexDirection:"column",width:"80vw",component:ye.a,pb:"3rem",children:[Object(H.jsx)(L.a,{flexDirection:"row",display:"flex",children:Object(H.jsxs)(L.a,{display:"flex",justifyContent:"center",flexDirection:"column",width:"100%",children:[Object(H.jsx)(F.a,{align:"center",variant:"h4",children:c.title}),Object(H.jsx)(F.a,{align:"center",variant:"body1",id:"urlName",children:Object(H.jsx)(Te.a,{href:c.url,children:c.url})}),Object(H.jsx)(F.a,{align:"center",variant:"h6",children:Object(H.jsx)("em",{children:c.author})}),Object(H.jsxs)(L.a,{mt:"1rem",flexDirection:"row",justifyContent:"center",alignSelf:"center",mb:"1.5rem",children:[Object(H.jsxs)(F.a,{className:p.likes,display:"inline",alignSelf:"center",variant:"body1",id:"likes",children:["Likes: ",c.likes," "]}),Object(H.jsx)(B.a,{variant:"contained",size:"small",fullWidth:!1,color:"primary",startIcon:Object(H.jsx)(Pe.a,{}),onClick:function(){return y(c)},children:"  like"})]}),Object(H.jsxs)(L.a,{alignSelf:"center",display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column",children:[Object(H.jsx)(F.a,{align:"center",variant:"body1",id:"postedBy",children:"Posted By: "}),Object(H.jsx)(Te.a,{to:"/user/".concat(c.user.id),className:p.userLink,component:l.b,children:Object(H.jsx)(U.a,{align:"center",children:c.user.name[0].toUpperCase()})}),Object(H.jsx)(F.a,{component:L.a,alignSelf:"center",variant:"body1",children:c.user.name})]})]})}),n&&n.username===c.user.username?Object(H.jsxs)(H.Fragment,{children:[Object(H.jsx)(B.a,{variant:"contained",color:"secondary",size:"small",onClick:function(){x(!0)},children:"delete blog"}),Object(H.jsxs)(Fe.a,{fullScreen:g,open:O,onClose:v,"aria-labelledby":"responsive-dialog-title",children:[Object(H.jsx)(Re.a,{id:"responsive-dialog-title",children:"Confirm Delete"}),Object(H.jsx)(Ue.a,{children:Object(H.jsxs)(Me.a,{children:["Are you sure you want to delete ",c.title," by ",c.author,"?"]})}),Object(H.jsxs)(ze.a,{children:[Object(H.jsx)(B.a,{onClick:v,color:"primary",children:"Cancel"}),Object(H.jsx)(B.a,{onClick:function(){return w(c)},color:"primary",autofocus:!0,children:"Delete Blog"})]})]})]}):null,Object(H.jsx)(F.a,{variant:"h6",component:"h1",style:{fontWeight:600,marginLeft:"0.5rem",marginTop:"0.5rem"},children:"Comments:"}),c.comments.length<1?Object(H.jsx)(F.a,{variant:"body1",children:"no comments yet..."}):Object(H.jsx)(je.a,{className:p.root,children:c.comments.map((function(e){return Object(H.jsxs)(H.Fragment,{children:[Object(H.jsx)(de.a,{className:p.customListItem,children:Object(H.jsx)(J.a,{primary:e,children:e})},e+Math.random()),Object(H.jsx)(We.a,{})]})}))}),Object(H.jsx)(L.a,{width:"100%",children:Object(H.jsx)(L.a,{className:p.commentFormBox,children:n?Object(H.jsx)(Le,{blog:c}):""})})]})})]}):Object(H.jsx)("h2",{children:"blog not found"})},Ke={login:function(){var e=Object(b.a)(d.a.mark((function e(t){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.a.post("/api/login",t);case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},Ge=n(212);console.log(B.a,ie.a,F.a);var He=Object(S.a)((function(e){return{root:{display:"flex",flexDirection:"column",alignContent:"center",alignSelf:"center",margin:"0 auto","& .MuiTextField-root":{margin:e.spacing(1),width:"25ch"}},loginFormDiv:{display:"flex",margin:"0 auto",width:"50%","& > *":{margin:e.spacing(1),width:e.spacing(36),height:e.spacing(30)}},input:{width:"3rem"}}})),Ve=function(){var e=Object(r.useState)(""),t=Object(s.a)(e,2),n=t[0],a=t[1],c=Object(r.useState)(""),i=Object(s.a)(c,2),l=i[0],j=i[1],p=He(),f=Object(o.b)(),m=Object(u.f)(),h=function(){var e=Object(b.a)(d.a.mark((function e(t){var r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,Ke.login({username:n,password:l});case 4:r=e.sent,window.localStorage.setItem("loggedBlogappUser",JSON.stringify(r)),T.setToken(r.token),f(x(r)),a(""),j(""),m.push("/"),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(1),f(te({type:"error",message:"Invalid Credentials!"},5e3));case 16:case"end":return e.stop()}}),e,null,[[1,13]])})));return function(t){return e.apply(this,arguments)}}();return Object(H.jsx)(Ge.a,{maxWidth:"sm",children:Object(H.jsx)("div",{className:p.loginFormDiv,children:Object(H.jsx)(ye.a,{className:p.root,children:Object(H.jsxs)("form",{className:p.root,onSubmit:h,noValidate:!0,autoComplete:"off",children:[Object(H.jsxs)("div",{children:[Object(H.jsx)(F.a,{align:"center",variant:"subtitle1",children:"Login"}),Object(H.jsx)(ie.a,{id:"username",autoFocus:!0,type:"text",variant:"outlined",value:n,name:"Username",label:"username",onChange:function(e){var t=e.target;return a(t.value)}})]}),Object(H.jsx)("div",{children:Object(H.jsx)(ie.a,{id:"password",variant:"outlined",type:"password",value:l,name:"Password",label:"password",onChange:function(e){var t=e.target;return j(t.value)}})}),Object(H.jsx)(B.a,{className:p.input,variant:"outlined",id:"login-button",type:"submit",children:"login"})]})})})})},qe=function(){var e=Object(o.c)((function(e){return e.user}));return Object(H.jsx)("div",{children:null!==e?"":Object(H.jsx)(Ve,{})})},Qe=function(){var e=Object(o.b)(),t=Object(o.c)((function(e){return e.blogs})),n=Object(o.c)((function(e){return e.users})),a=Object(o.c)((function(e){return e.user}));return Object(r.useEffect)((function(){e(Q()),e(Z())}),[]),Object(H.jsxs)(u.c,{children:[Object(H.jsx)(u.a,{path:"/blogs/:id",children:Object(H.jsx)(_e,{blogs:t,user:a})}),Object(H.jsx)(u.a,{path:"/user/:id",children:Object(H.jsx)(ge,{users:n})}),Object(H.jsx)(u.a,{path:"/users",children:Object(H.jsx)(Ee,{})}),Object(H.jsx)(u.a,{path:"/create",children:Object(H.jsx)(le,{})}),Object(H.jsx)(u.a,{path:"/login",children:Object(H.jsx)(qe,{})}),Object(H.jsx)(u.a,{path:"/",children:Object(H.jsx)(pe,{})})]})},Xe=n(217),Ze=n(221),$e=function(){var e=Object(o.c)((function(e){return e.notification})),t=e.message,n=e.autoCloseDuration,a=e.type,c=Object(o.b)(),i=Object(r.useState)(!0),u=Object(s.a)(i,2),l=u[0],j=u[1];Object(r.useEffect)((function(){return console.log(l)}),[l]),Object(r.useEffect)((function(){return console.log(a)}),[a]);var d=function(e,t){"clickaway"!==t&&(j(!1),c({type:"CLEAR"}))};return"success"===a?Object(H.jsx)(Ze.a,{open:l,onClose:d,autoHideDuration:n,message:Object(H.jsx)(Xe.a,{onClose:d,severity:"success",children:t})}):"error"===a?Object(H.jsx)(Ze.a,{open:l,onClose:d,children:Object(H.jsx)(Xe.a,{onClose:d,severity:"error",children:t})}):null},et=(n(142),function(){var e=Object(u.f)();return Object(r.useEffect)((function(){console.log(e)}),[e]),Object(H.jsxs)(H.Fragment,{children:[Object(H.jsx)($e,{}),Object(H.jsxs)(l.a,{children:[Object(H.jsx)(q,{}),Object(H.jsx)(Qe,{})]})]})}),tt=n(62),nt=n(97),rt=n(98),at=Object(tt.combineReducers)({notification:ne,blogs:X,user:g,users:$}),ct=Object(rt.composeWithDevTools)({trace:!0}),it=Object(tt.createStore)(at,ct(Object(tt.applyMiddleware)(nt.a))),ot=(n(143),n(213));i.a.render(Object(H.jsxs)(a.a.Fragment,{children:[Object(H.jsx)(ot.a,{}),Object(H.jsx)(o.a,{store:it,children:Object(H.jsx)(et,{})})]}),document.getElementById("root"))}},[[144,1,2]]]);
//# sourceMappingURL=main.7eb11382.chunk.js.map